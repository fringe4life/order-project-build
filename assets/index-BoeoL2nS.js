(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(n){if(n.ep)return;n.ep=!0;const d=r(n);fetch(n.href,d)}})();function u(t){const e=document.createElement("p");e.classList.add("order-confirmation-body","my-large"),e.textContent=`Thanks, ${t}! Your order is on its way!`;const r=document.getElementById("order-confirmation");r.innerHTML="",r.appendChild(e)}const s=[{name:"Pizza",ingredients:["pepperoni","mushrom","mozarella"],id:0,price:14,emoji:"ðŸ•"},{name:"Hamburger",ingredients:["beef","cheese","lettuce"],price:12,emoji:"ðŸ”",id:1},{name:"Beer",ingredients:["grain, hops, yeast, water"],price:12,emoji:"ðŸº",id:2}],a="currentOrder";function m(){const t=localStorage.getItem(a);return t&&JSON.parse(t)||[]}function b(t){localStorage.setItem(a,JSON.stringify(t))}function p(t,e){const r=m();r[e]?r[e]+=t:t===1&&(r[e]=t),b(r)}function f(){localStorage.removeItem(a)}function v(){const t=m();return Array.from(t).reduce((r,o,n)=>r+s[n].price*o,0)}function y(t){return document.getElementById(t).content.cloneNode(!0).children[0]}function E(t){const e=y(t);document.body.appendChild(e),e.showPopover()}function O(t){const e=y(t);document.body.appendChild(e),e.showModal()}function g(t,e=null){document.getElementById(t).close(),e&&E(e)}function C(t){const e=t.value.replace(/\s/g,"");let r="";for(let o=0;o<e.length;o++)o>0&&o%4===0&&(r+=" "),r+=e[o];t.value=r}const L=({id:t,name:e,ingredients:r,price:o,emoji:n})=>`
    <div class='subgrid-columns menu-item my-large'>
        <p class='menu-icon'>${n}</p>
        <div class='menu-item-info'>
            <h2 class='menu-item-title'>${e}</h2>
            <p class='menu-item-ingredients'>${r.join(",")}</p>
            <p class='menu-item-price'>$${o}</p>
        </div>
        <button class='menu-add-btn' data-id='${t}'>+</button>
    </div>`,S=t=>{const e=document.getElementById("app");e.innerHTML=t.map(L).join("")};function B(t){p(1,t);const e=s.find(r=>r.id===t);h(e)}function h({name:t,id:e,price:r}){let o=document.getElementById("order-summary-list");o||(I(),o=document.getElementById("order-summary-list"));const n=document.createElement("li");n.classList.add("order-summary-item","subgrid-columns");const d=document.createElement("p");d.classList.add("order-summary-item-name"),d.textContent=t,n.appendChild(d);const i=document.createElement("button");i.classList.add("order-summary-remove-btn"),i.textContent="remove",i.setAttribute("data-remove-id",e.toString()),n.appendChild(i);const c=document.createElement("p");c.classList.add("order-summary-price"),c.textContent=`$${r}`,n.appendChild(c),o.appendChild(n),l()}function N(t){var o;const e=document.getElementById("order-summary-list"),r=(o=e.querySelector(`[data-remove-id='${t}']`))==null?void 0:o.parentElement;e.removeChild(r),p(-1,t),e.children.length||document.getElementById("order-summary").classList.add("hidden"),l()}function l(){const t=document.getElementById("order-summary-price");t.textContent=`$${v()}`}function I(){const t=document.getElementById("order-summary");t.classList.remove("hidden");const r=document.getElementById("order-summary-template").content.cloneNode(!0);t.appendChild(r),l()}function T(){const t=document.getElementById("order-summary-list");t.innerHTML="";const e=m();for(const r of Object.keys(e)){const o=e[r],n=s.find(d=>d.id===Number.parseInt(r));if(o)for(let d=0;d<o;d++)h(n)}}function $(){S(s),m().length>0&&(I(),T())}const j=(t,e=250)=>{let r;return(...o)=>{r||(r=setTimeout(()=>{r=null,t(...o)},e))}};$();document.addEventListener("click",j(w,250),!1);document.addEventListener("submit",M);document.addEventListener("input",P);function w(t){const e=t.target;e.dataset.id?B(Number.parseInt(e.dataset.id)):e.dataset.removeId?N(Number.parseInt(e.dataset.removeId)):e.id==="complete-order"?O("modal"):e.id==="payment-form"&&g("payment-form","popover-modal-dismiss")}function M(t){t.preventDefault(),g("payment-form");const e=t.target,r=new FormData(e),o=String(r.get("name"));document.getElementById("order-summary").classList.add("hidden"),u(o),f(),u(o),f()}function P(t){const e=t.target;e.id==="card-number"&&C(e)}
